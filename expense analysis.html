
<!DOCTYPE html>
<head>

  <title>Expense Analysis SIWES Project</title>

  <style>
    body{
      font-family: Arial, sans-serif;
       background:#f4f6f8;
      display:flex;
      justify-content:center;
      align-items:center;
    
    }
    .container{
      background:#fff;
      width:350px;
      padding:20px;
      border-radius:10px;

    }
    h2{text-align:center}
    .summary{
      display:flex;
      justify-content:space-between;
      margin:15px 0;
    }
    .income{color:green}
    .expense{color:red}
    input,button{
      width:100%;
      padding:10px;
      margin:5px 0;
    }
    button{
      background:#4f46e5;
      color:#fff;
      border:none;
      cursor:pointer;
    }
    ul{list-style:none;padding:0}
    li{
      background:#f9fafb;
      margin:5px 0;
      padding:10px;
      display:flex;
      justify-content:space-between;
      border-left:5px solid;
    }
    .income-item{border-color:green}
    .expense-item{border-color:red}
    .delete{cursor:pointer;color:red}
  </style>
</head>

<body>
<div class="container">
  <h2>Expense Analysis</h2>


  <h3 id="balance">₦0.00</h3>

  
  <div class="summary">
    <div class="income">Income: <span id="income">₦0.00</span></div>
    <div class="expense">Expense: <span id="expense">₦0.00</span></div>
  </div>

  
  <form id="form">
    <input type="text" id="text" placeholder="Description" required>
    <input type="number" id="amount" placeholder="Amount (use - for expense)" required>
    <button>Add Transac</button>
  </form>

  <ul id="list"></ul>
</div>

<script>

const balanceText = document.getElementById("balance");
const incomeText = document.getElementById("income");
const expenseText = document.getElementById("expense");
const recordList = document.getElementById("list");
const expenseForm = document.getElementById("form");
const descInput = document.getElementById("text");
const moneyInput = document.getElementById("amount");


let expenseData = JSON.parse(localStorage.getItem("expenseData")) || [];


function addNewExpense(e){
  e.preventDefault();

  const newItem = {
    id: Date.now(),      
    title: descInput.value,
    cash: Number(moneyInput.value)
  };

  expenseData.push(newItem);
  saveData();
  refreshUI();

  descInput.value = "";
  moneyInput.value = "";
}


function deleteExpense(itemId){
  expenseData = expenseData.filter(item => item.id !== itemId);
  saveData();
  refreshUI();
}


function updateSummary(){
  const values = expenseData.map(item => item.cash);

  const totalBal = values.reduce((sum,val) => sum + val, 0);
  const totalIncome = values.filter(v => v > 0).reduce((s,v) => s + v, 0);
  const totalExpense = values.filter(v => v < 0).reduce((s,v) => s + v, 0);

  balanceText.textContent = `₦${totalBal.toFixed(2)}`;
  incomeText.textContent = `₦${totalIncome.toFixed(2)}`;
  expenseText.textContent = `₦${Math.abs(totalExpense).toFixed(2)}`;
}


function showExpense(item){
  const li = document.createElement("li");
  li.className = item.cash < 0 ? "expense-item" : "income-item";

  li.innerHTML = `
    ${item.title}
    <span>₦${Math.abs(item.cash)}</span>
    <span class="delete" onclick="deleteExpense(${item.id})">x</span>
  `;

  recordList.appendChild(li);
}


function refreshUI(){
  recordList.innerHTML = "";
  expenseData.forEach(showExpense);
  updateSummary();
}


function saveData(){
  localStorage.setItem("expenseData", JSON.stringify(expenseData));
}

expenseForm.addEventListener("submit", addNewExpense);
refreshUI();
</script>

</body>
</html>
